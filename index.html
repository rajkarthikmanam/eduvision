<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EduVision Help Assistant</title>

  <!-- Botpress webchat loader -->
  <script src="https://cdn.botpress.cloud/webchat/v3.3/inject.js"></script>

  <style>
    html,body{height:100%;margin:0;background:#0b1323;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:#e6f1ff}
    .wrap{min-height:100vh;display:flex;flex-direction:column;gap:20px;padding:28px}
    h1{margin:0 0 6px;font-size:36px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .card{background:#0f1a33;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:16px}
    /* The inline chat container */
    #webchat{flex:1;border:1px solid rgba(48,231,198,.25);border-radius:14px;overflow:hidden;background:#0b1323;min-height:65vh}
    /* Force the widget to fill the container */
    #webchat .bpWebchat{position:unset;width:100%;height:100%;max-width:100%;max-height:100%}
    /* Hide the floating button if any other script tries to show it */
    .bpFab{display:none!important}
  </style>
</head>
<body>
  <main class="wrap">
    <header>
      <h1>EduVision Help Assistant</h1>
      <p>Ask about courses, instructors, credits, prerequisites, and terms offered.</p>
    </header>

    <section class="row">
      <div class="card">
        <h3>About this assistant</h3>
        <p>Answers questions using a structured course dataset (code, name, dept, credits, instructor, prerequisites, term, difficulty).</p>
      </div>
      <div class="card">
        <h3>Try asking…</h3>
        <ul>
          <li>“Tell me about <b>AI200</b>”</li>
          <li>“Which courses teach <b>Python</b>?”</li>
          <li>“Who teaches <b>Machine Learning</b>?”</li>
        </ul>
      </div>
    </section>

    <!-- Inline chat renders here -->
    <div id="webchat" aria-label="EduVision Chat"></div>
  </main>

  <script>
    // Initialize exactly once, with a selector (Karthik’s IDs)
    window.botpress.init({
      botId: "1d03a94e-6971-4d3f-bd61-0514cd7dd234",
      clientId: "b25eea09-e897-4538-afa8-6c280ac089f2",
      selector: "#webchat",
      configuration: {
        version: "v2",
        botName: "EduVision Help Assistant",
        color: "#257caf",
        headerVariant: "glass",
        themeMode: "light",
        radius: 6,
        feedbackEnabled: false,
        soundEnabled: false,
        proactiveMessageEnabled: false
      }
    });

    // Open automatically when ready
    window.botpress.on && window.botpress.on("webchat:ready", () => window.botpress.open());
  </script>
</body>
</html>
